
import 'package:test/test.dart';
import 'dart:typed_data';
import 'package:convert/convert.dart';
// import '../bin/symbol/models.dart';
import '../bin/utils/converter.dart';
import '../models_c.dart';
import 'dart:convert';

void main() {
  var tx = NamespaceMetadataTransactionV1(
    network: NetworkType.TESTNET, 
    type: TransactionType.NAMESPACE_METADATA,
    targetAddress: UnresolvedAddress('TCIFSMQZAX3IDPHUP2RTXP26N6BJRNKEBBKP33I'),
    scopedMetadataKey: int.parse('000000000000000A', radix: 16),
    targetNamespaceId: NamespaceId(1000),
    valueSizeDelta: 10,
    value: Uint8List.fromList(utf8.encode('ABC123')),
    fee: Amount('0xFEEFEEFEEFEEFEE0'),
    deadline: Timestamp(8207562320463688160),
    signerPublicKey: PublicKey('0x2D64F92F75B37994557B14A982218F4A8B7D6B9CFFBBADFB259BAEC0F9434F0F'),
    signature: Signature('0x067D7153D66ED03E696208DAFB698C1EC0ECD92DA3AFEC180E082FA84133F1E5B9B0F0ACD14CEBE867DBA15DD37CB9CC413AAB3EF73E9929977337E6A8F2AB44'),
  );
  print(tx.scopedMetadataKey.toRadixString(16));
  print(hex.encode(tx.serialize()).toUpperCase());
  //var t = TransactionFactory().deserialize('2002000000000000B75CCB8D780D5CEF69C8D0B4F60959DD28537B54EED68588B29483D2871A6D78D988D2684EEF974D04BEDA0BFEE310A9EB4210F65F0552FC79EE1BAAA7E3228E0D60B282D0F1A7630D165972F424CDEA90441D5B14497E1333B7F39592532ADC0000000001984142E0FEEEEFFEEEEFFEE0711EE7711EE77161E0F8B9AB2FE3E008DCE1380FECDAF5BCFB1851247BF990771154177A0B7E78A8000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000019854419841E5B8E40781CF74DABF592817DE48711D778648DEAFB20000010000000000672B0000CE5600006500000000000000410000000000000000000000000000000000000000000000000000000000000000000000000000000000000001984D428969746E9B1A70570A000000000000000100000000000000000000000000000067FA12789F80766D329C7F687C5C5F889A82F5E9C3E7996AE4FFE48C34299DE7622C0CA6CC2EC0C48776FC24BF34FB7F4912B3718457A44D41A32DFCD3DBCEDD7D2AA65325ED925E86EDEAE6AB6CA54ED8B4C0DD090ED9DB3860D295DA9820ED0000000000000000549676227A2A84F8A555F69892B49A3BE02A3B2C71E031E2E8968EBAB867C491B3895F21837F76DF15B3A6D97FD7BA1DC625011619A5542194EE4220AE34E50C510D942C2C306BC0637ECFC9D9BEFA907819C6477254FBAD11C7A0DDDC71B913');
  //t.serialize();
  /* 
  test('AccountAddressRestrictionTransactionV1_account_address_restriction_single_1', () {
    var payload = 'D0000000000000007695D855CBB6CB83D5BD08E9D76145674F805D741301883387B7101FD8CA84329BB14DBF2F0B4CD58AA84CF31AC6899D134FC38FAB0E7A76F6216ACD60914ACBD294E5E650ACC2A911B548BE2A1806FF4717621BCE3EC1007295219AFFC17B820000000001985041E0FEEEEFFEEEEFFEE0711EE7711EE77101000201000000009841E5B8E40781CF74DABF592817DE48711D778648DEAFB298F409274B52FABBFBCF7E7DF7E20DE1D0C3F657FB8595C1989059321905F681BCF47EA33BBF5E6F8298B5440854FDED';
    var tx = AccountAddressRestrictionTransactionV1(
      network: NetworkType.TESTNET, 
      type: TransactionType.ACCOUNT_ADDRESS_RESTRICTION,
      restrictionFlags: AccountRestrictionFlags.ADDRESS,
      restrictionAdditions: [
        UnresolvedAddress('TBA6LOHEA6A465G2X5MSQF66JBYR254GJDPK7MQ'), UnresolvedAddress('TD2ASJ2LKL5LX66PPZ67PYQN4HIMH5SX7OCZLQI'),
      ],
      restrictionDeletions: [
        UnresolvedAddress('TCIFSMQZAX3IDPHUP2RTXP26N6BJRNKEBBKP33I'),
      ], 
      signerPublicKey: PublicKey('0xD294E5E650ACC2A911B548BE2A1806FF4717621BCE3EC1007295219AFFC17B82'),
      signature: Signature('0x7695D855CBB6CB83D5BD08E9D76145674F805D741301883387B7101FD8CA84329BB14DBF2F0B4CD58AA84CF31AC6899D134FC38FAB0E7A76F6216ACD60914ACB'),
      fee: Amount('18370164183782063840'),
      deadline: Timestamp(8207562320463688160));
    expect(hex.encode(tx.serialize()).toUpperCase(), payload);
  }); */
}
