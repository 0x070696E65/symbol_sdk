
//import 'package:pinenacl/api.dart';
//import '../bin/symbol/models.dart';
//import '../bin/nem/models.dart';
//import '../bin/symbol/Network.dart' as network;
import '../bin/facade/SymbolFacade.dart';
import '../bin/symbol/Network.dart';
import '../bin/symbol/models.dart';
import '../bin/utils/converter.dart';
import '../bin/CryptoTypes.dart' as ct;
//import '../models_c.dart';
//import 'dart:convert';
//import 'dart:typed_data';
import '../bin/utils/arrayHelpers.dart';
import '../bin/symbol/idGenerator.dart';
import '../bin/symbol/Network.dart' as nt;

void main() async {
	var payload ='30010000000000003F55F0B895EDBC04AA511CB828326E32FBCD57D5A2688BF1F9FC3A2C604F7BF8B55929FB0B18624A58641CF010A628DC7D64FDFEA1EEC5315950E2559BD5458BEC851E578B1AEF681A6FBE5CD8682D12517F69142EF25B27F9CE75F0087E1F010000000002984142E0FEEEEFFEEEEFFEE0711EE7711EE77181F7349CC9785016A1435572751389F02926573244D7F97E14F811D60627750A88000000000000008100000000000000000000000000000000000000000000000000000000000000000000000000000000000000019852419841E5B8E40781CF74DABF592817DE48711D778648DEAFB259CC35F8C8D91867717CE4290B40EA636E86CE5C00000000000000000000000044B262C46CEABB85EFCDAB907856341264000000000000000100000000000000';
var facade = SymbolFacade(Network.TESTNET);
var address = facade.network.publicKeyToAddress(ct.PublicKey(hexToBytes('0000000000000000000000000000000000000000000000000000000000000000')));
var id = generateMosaicId(nt.Address(address), 3095715558);
print(id);
var tx = AggregateBondedTransactionV2(
      network: NetworkType.TESTNET,
      transactions: [
        EmbeddedSecretLockTransactionV1(
          network: NetworkType.TESTNET,
          recipientAddress: UnresolvedAddress('TBA6LOHEA6A465G2X5MSQF66JBYR254GJDPK7MQ'),
          secret: Hash256('3FC8BA10229AB5778D05D9C4B7F56676A88BF9295C185ACFC0F961DB5408CAFE'),
          mosaic: UnresolvedMosaic(
            mosaicId: UnresolvedMosaicId('9636553580561478212'),
            amount: Amount(1311768467294899695)
          ),
          duration: BlockDuration(100),
          hashAlgorithm: LockHashAlgorithm.HASH_160,
        )
      ],
      signerPublicKey: PublicKey('EC851E578B1AEF681A6FBE5CD8682D12517F69142EF25B27F9CE75F0087E1F01'),
      signature: Signature('3F55F0B895EDBC04AA511CB828326E32FBCD57D5A2688BF1F9FC3A2C604F7BF8B55929FB0B18624A58641CF010A628DC7D64FDFEA1EEC5315950E2559BD5458B'),
      fee: Amount('18370164183782063840'),
      deadline: Timestamp(8207562320463688160),
      cosignatures: [],
      transactionsHash: Hash256('81F7349CC9785016A1435572751389F02926573244D7F97E14F811D60627750A')
    );
  print(bytesToHex(tx.serialize()));
  var tx2 = TransactionFactory().deserialize(payload);
  print(tx2);
  print(bytesToHex(tx2.serialize()));
}
// 30010000000000003F55F0B895EDBC04AA511CB828326E32FBCD57D5A2688BF1F9FC3A2C604F7BF8B55929FB0B18624A58641CF010A628DC7D64FDFEA1EEC5315950E2559BD5458BEC851E578B1AEF681A6FBE5CD8682D12517F69142EF25B27F9CE75F0087E1F010000000002984142E0FEEEEFFEEEEFFEE0711EE7711EE77181F7349CC9785016A1435572751389F02926573244D7F97E14F811D60627750A88000000000000008100000000000000000000000000000000000000000000000000000000000000000000000000000000000000019852419841E5B8E40781CF74DABF592817DE48711D778648DEAFB23FC8BA10229AB5778D05D9C4B7F56676A88BF9295C185ACFC0F961DB5408CAFE44B262C46CEABB85EFCDAB907856341264000000000000000100000000000000
// 30010000000000003F55F0B895EDBC04AA511CB828326E32FBCD57D5A2688BF1F9FC3A2C604F7BF8B55929FB0B18624A58641CF010A628DC7D64FDFEA1EEC5315950E2559BD5458BEC851E578B1AEF681A6FBE5CD8682D12517F69142EF25B27F9CE75F0087E1F010000000002984142E0FEEEEFFEEEEFFEE0711EE7711EE77181F7349CC9785016A1435572751389F02926573244D7F97E14F811D60627750A88000000000000008100000000000000000000000000000000000000000000000000000000000000000000000000000000000000019852419841E5B8E40781CF74DABF592817DE48711D778648DEAFB259CC35F8C8D91867717CE4290B40EA636E86CE5C00000000000000000000000044B262C46CEABB85EFCDAB907856341264000000000000000100000000000000
