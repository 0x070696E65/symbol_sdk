import 'package:test/test.dart';
import 'dart:typed_data';
import 'package:convert/convert.dart';
import '../bin/symbol/models.dart';
import '../bin/utils/converter.dart';

void main() {
  test('AccountAddressRestrictionTransactionV1_account_address_restriction_single_1', () {
    var payload = 'D0000000000000007695D855CBB6CB83D5BD08E9D76145674F805D741301883387B7101FD8CA84329BB14DBF2F0B4CD58AA84CF31AC6899D134FC38FAB0E7A76F6216ACD60914ACBD294E5E650ACC2A911B548BE2A1806FF4717621BCE3EC1007295219AFFC17B820000000001985041E0FEEEEFFEEEEFFEE0711EE7711EE77101000201000000009841E5B8E40781CF74DABF592817DE48711D778648DEAFB298F409274B52FABBFBCF7E7DF7E20DE1D0C3F657FB8595C1989059321905F681BCF47EA33BBF5E6F8298B5440854FDED';
    var tx = AccountAddressRestrictionTransactionV1(
      network: NetworkType.TESTNET, 
      type: TransactionType.ACCOUNT_ADDRESS_RESTRICTION,
      restrictionFlags: AccountRestrictionFlags.ADDRESS,
      restrictionAdditions: [
        UnresolvedAddress('TBA6LOHEA6A465G2X5MSQF66JBYR254GJDPK7MQ'),
        UnresolvedAddress('TD2ASJ2LKL5LX66PPZ67PYQN4HIMH5SX7OCZLQI'),
      ],
      restrictionDeletions: [
        UnresolvedAddress('TCIFSMQZAX3IDPHUP2RTXP26N6BJRNKEBBKP33I'),
      ], 
      signerPublicKey: PublicKey('0xD294E5E650ACC2A911B548BE2A1806FF4717621BCE3EC1007295219AFFC17B82'),
      signature: Signature('0x7695D855CBB6CB83D5BD08E9D76145674F805D741301883387B7101FD8CA84329BB14DBF2F0B4CD58AA84CF31AC6899D134FC38FAB0E7A76F6216ACD60914ACB'),
      fee: Amount('18370164183782063840'),
      deadline: Timestamp(8207562320463688160));
    expect(hex.encode(tx.serialize()).toUpperCase(), payload);
  });
  test('TransferTransactionV1_transfer_single_1', () {
    var payload = 'B0000000000000002396B87D65DDDCF52F527CC4C8E2C413C52DA4E2D2D951E5EB1370941D86068688099761AD473A3D124650B823C39078B9326EC8CD050FE2EB6ABC9FE61C0212A75027E4F32570A79B8A5A8641AB91ED48360074AE2AAE055CE3BD48D3BE22330000000001985441E0FEEEEFFEEEEFFEE0711EE7711EE771989059321905F681BCF47EA33BBF5E6F8298B5440854FDED0000010000000000672B0000CE5600006400000000000000';
    var tx = TransferTransactionV1(
      network: NetworkType.TESTNET, 
      type: TransactionType.TRANSFER, 
      recipientAddress: UnresolvedAddress('TCIFSMQZAX3IDPHUP2RTXP26N6BJRNKEBBKP33I'), 
      mosaics: [
        UnresolvedMosaic(mosaicId: UnresolvedMosaicId(95442763262823), amount: Amount(100)),
      ], 
      signerPublicKey: PublicKey('0xA75027E4F32570A79B8A5A8641AB91ED48360074AE2AAE055CE3BD48D3BE2233'),
      signature: Signature('0x2396B87D65DDDCF52F527CC4C8E2C413C52DA4E2D2D951E5EB1370941D86068688099761AD473A3D124650B823C39078B9326EC8CD050FE2EB6ABC9FE61C0212'),
      fee: Amount('18370164183782063840'),
      deadline: Timestamp(8207562320463688160));
    expect(hex.encode(tx.serialize()).toUpperCase(), payload);
  });
}

// 0801000000000000267C52D9EC00722EFEE5696D994338270A9163F22B3248611FC0E37590BAE07B5FCFB08A075C086962A25D31B42AB283235021C6F8BE3C79EF70AE1B010D956705785D97A5BEB8B77E1F567DA9C2D18048515A01F34E9040EA604C06CF0E6FEC0000000002984142E0FEEEEFFEEEEFFEE0711EE7711EE77121CD7DF1DCA82BB7DEF6F46B360EDF56376CCE4C8B80D17F22AD39D5321D052C60000000000000005A00000000000000000000000000000000000000000000000000000000000000000000000000000000000000019844419841E5B8E40781CF74DABF592817DE48711D778648DEAFB20A000000000000000A000600313233424143000000000000
// 0801000000000000267C52D9EC00722EFEE5696D994338270A9163F22B3248611FC0E37590BAE07B5FCFB08A075C086962A25D31B42AB283235021C6F8BE3C79EF70AE1B010D956705785D97A5BEB8B77E1F567DA9C2D18048515A01F34E9040EA604C06CF0E6FEC0000000002984142E0FEEEEFFEEEEFFEE0711EE7711EE77121CD7DF1DCA82BB7DEF6F46B360EDF56376CCE4C8B80D17F22AD39D5321D052C60000000000000005A00000000000000000000000000000000000000000000000000000000000000000000000000000000000000019844419841E5B8E40781CF74DABF592817DE48711D778648DEAFB20A000000000000000A000600313233424143060000000000